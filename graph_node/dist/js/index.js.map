{"version":3,"sources":["webpack:///webpack/bootstrap afd64e3cf5228fc5a6f2","webpack:///./src/js/index.js","webpack:///./src/js/miner.js","webpack:///./src/js/base_game_entity.js","webpack:///./src/js/state_machine.js","webpack:///./src/js/state.js","webpack:///./src/js/entity_name.js","webpack:///./src/js/message_dispatcher.js","webpack:///./src/js/entity_manager.js","webpack:///./src/js/telegram.js","webpack:///./src/js/message_types.js","webpack:///./src/js/miner_wife.js","webpack:///./src/js/miner_wife_state.js"],"names":["miner","ent_Miner_Bob","minersWife","ent_Elsa","registerEntity","setInterval","update","dispatchDelayedMessages","STATE","comfortLevel","maxNuggets","thirstLevel","tirednessThreshold","Miner","id","stateMachine","setCurrentState","m_Location","m_iGoldCarried","m_iMoneyInBank","m_iThirsty","m_iFatigue","pNewLocation","count","wealth","telegram","handleMessage","m_iNextValidID","BaseGameEntity","setID","m_ID","StateMachine","owner","m_pOwner","m_pCurrentState","m_pPreviousState","m_pGlobalState","state","execute","exit","enter","changeState","onMessage","EnterMineAndDigForNugget","pMiner","location","console","log","changeLocation","addToGoldCarried","increaseFatigue","pocketsFull","getFSM","VisitBankAndDepositGold","thirsty","QuenchThirst","addToWealth","goldCarried","setGoldCarried","wealthEnough","GoHomeAndSleepTilRested","buyAndDrinkAWhiskey","dispatchMessage","fatigued","decreaseFatigue","msg","Date","getTime","EatStew","revertToPreviousState","getNameOfEntity","ENTITYNAME","n","sortPriorityQ","r1","r2","dispatchTime","MessageDispatcher","prioritQ","pReceiver","error","delay","senderID","receiverID","extraInfo","pSender","getEntityFromID","discharge","currentTime","push","sort","length","shift","EntityManager","m_EntityMap","newEntity","pEntity","Telegram","msgToStr","MESSAGETYPE","MinersWife","setGlobalState","isCooking","WifesGlobalState","wife","Math","random","VisitBathroom","CookStew","DoHouseWork","floor","cooking","setCooking"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap afd64e3cf5228fc5a6f2","import Miner from \"./miner\";\nimport MinersWife from \"./miner_wife\";\nimport { ENTITYNAME } from './entity_name';\nimport EntityManager from './entity_manager';\nimport MessageDispatcher from './message_dispatcher';\n\nvar miner = new Miner(ENTITYNAME.ent_Miner_Bob);\nvar minersWife = new MinersWife(ENTITYNAME.ent_Elsa);\nEntityManager.registerEntity(miner);\nEntityManager.registerEntity(minersWife);\nsetInterval(function(){\n  miner.update();\n  minersWife.update();\n  MessageDispatcher.dispatchDelayedMessages();\n}, 1600);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","import BaseGameEntity from './base_game_entity';\nimport StateMachine from './state_machine';\nimport {GoHomeAndSleepTilRested} from \"./state\";\n\nconst STATE = {\n  comfortLevel: 5,\n  maxNuggets: 3,\n  thirstLevel: 5,\n  tirednessThreshold: 5\n};\n\nexport default class Miner extends BaseGameEntity {\n  constructor(id) {\n    super(id);\n    this.stateMachine = new StateMachine(this);\n    this.stateMachine.setCurrentState(GoHomeAndSleepTilRested);\n    this.m_Location = \"shack\";\n    this.m_iGoldCarried = 0;\n    this.m_iMoneyInBank = 0;\n    this.m_iThirsty = 0;\n    this.m_iFatigue = 0;\n  }\n  getFSM() {\n    return this.stateMachine;\n  }\n  update() {\n    this.m_iThirsty += 1;\n    this.stateMachine.update();\n  }\n  changeLocation(pNewLocation) {\n    this.m_Location = pNewLocation;\n  }\n  location() {\n    return this.m_Location;\n  }\n  addToGoldCarried(count) {\n    this.m_iGoldCarried += count;\n    if (this.m_iGoldCarried < 0) {\n      this.m_iGoldCarried = 0;\n    }\n  }\n  setGoldCarried(count) {\n    this.m_iGoldCarried = count;\n  }\n  goldCarried() {\n    return this.m_iGoldCarried;\n  }\n  increaseFatigue() {\n    this.m_iFatigue++;\n  }\n  decreaseFatigue() {\n    this.m_iFatigue--;\n  }\n  fatigued() {\n    return this.m_iFatigue > STATE.tirednessThreshold;\n  }\n  pocketsFull() {\n    return this.m_iGoldCarried >= STATE.maxNuggets;\n  }\n  thirsty() {\n    return this.m_iThirsty >= STATE.thirstLevel;\n  }\n  addToWealth(count) {\n    this.m_iMoneyInBank += this.m_iGoldCarried;\n    if (this.m_iMoneyInBank < 0) {\n      this.m_iMoneyInBank = 0;\n    }\n  }\n  wealth() {\n    return this.m_iMoneyInBank;\n  }\n  wealthEnough() {\n    return this.wealth() >= STATE.comfortLevel;\n  }\n  buyAndDrinkAWhiskey() {\n    this.m_iThirsty = 0;\n    this.m_iMoneyInBank -= 2;\n  }\n  handleMessage(telegram) {\n    return this.stateMachine.handleMessage(telegram);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/miner.js","var m_iNextValidID = 0;\n\nexport default class BaseGameEntity{\n  constructor(id){\n    this.setID(id);\n  }\n  setID(id){\n    if(id >= m_iNextValidID){\n      this.m_ID = id;\n      m_iNextValidID = id + 1;\n    }\n  }\n  update(){}\n  id(){\n    return this.m_ID;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/base_game_entity.js","export default class StateMachine{\n  constructor(owner){\n    this.m_pOwner = owner;\n    this.m_pCurrentState = null;\n    this.m_pPreviousState = null;\n    this.m_pGlobalState = null;\n  }\n  setCurrentState(state){\n    this.m_pCurrentState = state;\n  }\n  setGlobalState(state){\n    this.m_pGlobalState = state;\n  }\n  setPreviousState(state){\n    this.m_pPreviousState = state;\n  }\n  update(){\n    if(this.m_pGlobalState){\n      this.m_pGlobalState.execute(this.m_pOwner);\n    }\n    if(this.m_pCurrentState){\n      this.m_pCurrentState.execute(this.m_pOwner);\n    }\n  }\n  changeState(state){\n    this.m_pPreviousState = this.m_pCurrentState;\n    this.m_pCurrentState.exit(this.m_pOwner);\n    this.m_pCurrentState = state;\n    this.m_pCurrentState.enter(this.m_pOwner);\n  }\n  revertToPreviousState(){\n    this.changeState(this.m_pPreviousState);\n  }\n  handleMessage(telegram){\n    if(this.m_pCurrentState && this.m_pCurrentState.onMessage(this.m_pOwner, telegram)){\n      return true;\n    }\n    if (this.m_pGlobalState && this.m_pGlobalState.onMessage(this.m_pOwner, telegram)) {\n      return true;\n    }\n    return false;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/state_machine.js","import getNameOfEntity, { ENTITYNAME } from './entity_name';\nimport MessageDispatcher from './message_dispatcher';\n\nexport var EnterMineAndDigForNugget = {\n  enter: function(pMiner) {\n    if(pMiner.location() != 'goldmine'){\n      console.log(`${getNameOfEntity(pMiner.id())}: 走进金矿`);\n      pMiner.changeLocation('goldmine');\n    }\n  },\n  execute: function(pMiner) {\n    pMiner.addToGoldCarried(1);\n    pMiner.increaseFatigue();\n    console.log(`${getNameOfEntity(pMiner.id())}: 捡起一块金`);\n    if(pMiner.pocketsFull()){\n      pMiner.getFSM().changeState(VisitBankAndDepositGold);\n    }\n    if(pMiner.thirsty()){\n      pMiner.getFSM().changeState(QuenchThirst);\n    }\n  },\n  exit: function(pMiner) {\n    console.log(`${getNameOfEntity(pMiner.id())}: 捡够了，出去了`);\n  },\n  onMessage(pMiner, telegram){\n    return false;\n  }\n};\n\nexport var VisitBankAndDepositGold = {\n  enter: function(pMiner){\n    if(pMiner.location() != 'bank'){\n      console.log(`${getNameOfEntity(pMiner.id())}: 去银行存钱了Yeah`);\n      pMiner.changeLocation('bank');\n    }\n  },\n  execute: function(pMiner){\n    pMiner.addToWealth(pMiner.goldCarried());\n    pMiner.setGoldCarried(0);\n    console.log(`${getNameOfEntity(pMiner.id())}: 存钱. 现在总共存了: ${pMiner.wealth()}`);\n    if(pMiner.wealthEnough()){\n      console.log(`${getNameOfEntity(pMiner.id())}: WooHoo! 够有钱了. 回家睡觉`);\n      pMiner.getFSM().changeState(GoHomeAndSleepTilRested);\n    }else{\n      pMiner.getFSM().changeState(EnterMineAndDigForNugget);\n    }\n  },\n  exit: function(pMiner){\n    console.log(`${getNameOfEntity(pMiner.id())}: 走出银行`);\n  },\n  onMessage(pMiner, telegram){\n    return false;\n  }\n};\n\nexport var QuenchThirst = {\n  enter: function(pMiner) {\n    if(pMiner.location() != 'saloon'){\n      pMiner.changeLocation('saloon');\n      console.log(`${getNameOfEntity(pMiner.id())}: 渴死我了! 去酒吧`);\n    }\n  },\n  execute: function(pMiner) {\n    if(pMiner.thirsty()){\n      pMiner.buyAndDrinkAWhiskey();\n      console.log(`${getNameOfEntity(pMiner.id())}: 点了一杯酒`);\n      pMiner.getFSM().changeState(EnterMineAndDigForNugget);\n    }else{\n      console.log('error drink');\n    }\n  },\n  exit: function(pMiner) {\n    console.log(`${getNameOfEntity(pMiner.id())}: 走出酒吧，舒服多了`);\n  },\n  onMessage(pMiner, telegram){\n    return false;\n  }\n};\n\nexport var GoHomeAndSleepTilRested = {\n  enter: function(pMiner) {\n    if(pMiner.location() != 'shack'){\n      console.log(`${getNameOfEntity(pMiner.id())}: 回家`);\n      pMiner.changeLocation('shack');\n      MessageDispatcher.dispatchMessage(0, pMiner.id(), ENTITYNAME.ent_Elsa, 'MSG_HiHoneyImHome');\n    }\n  },\n  execute: function(pMiner) {\n    if(!pMiner.fatigued()){\n      console.log(`${getNameOfEntity(pMiner.id())}: 睡了个好觉! 该去干活了`);\n      pMiner.getFSM().changeState(EnterMineAndDigForNugget);\n    }else{\n      pMiner.decreaseFatigue();\n      console.log(`${getNameOfEntity(pMiner.id())}: ZZZZ...`);\n    }\n  },\n  exit: function(pMiner) {\n    console.log(`${getNameOfEntity(pMiner.id())}: 走出家门`);\n  },\n  onMessage(pMiner, telegram){\n    switch(telegram.msg){\n      case 'MSG_StewReady':\n        console.log(`${getNameOfEntity(pMiner.id())}于${new Date().getTime()}收到telegram`);\n        console.log(`${getNameOfEntity(pMiner.id())}: 好的，吃饭喇`);\n        pMiner.getFSM().changeState(EatStew);\n        return true;\n    }\n    return false;\n  }\n};\n\nexport var EatStew = {\n  enter: function(pMiner){\n    console.log(`${getNameOfEntity(pMiner.id())}: 老婆闻起来好香啊!`);\n  },\n  execute: function(pMiner){\n    console.log(`${getNameOfEntity(pMiner.id())}: 握嘈握嘈好吃好吃!!!`);\n    pMiner.getFSM().revertToPreviousState();\n  },\n  exit: function(pMiner){\n    console.log(`${getNameOfEntity(pMiner.id())}: 谢谢老婆，回来再见`);\n  },\n  onMessage: function(pMiner){\n    return false;\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/state.js","export const ENTITYNAME = {\n  ent_Miner_Bob: 0,\n  ent_Elsa: 1\n};\n\nexport default function getNameOfEntity(n){\n  switch (n) {\n    case ENTITYNAME.ent_Miner_Bob:\n      return \"Miner Bob\";\n    case ENTITYNAME.ent_Elsa:\n      return \"Elsa\";\n    default:\n      return \"UNKNOW!\";\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/entity_name.js","import getNameOfEntity from \"./entity_name\";\nimport EntityManager from './entity_manager';\nimport Telegram from './telegram';\nimport msgToStr from './message_types';\n\nfunction sortPriorityQ(r1, r2){\n  return r1.dispatchTime - r2.dispatchTime;\n}\n\nclass MessageDispatcher{\n  constructor(){\n    this.prioritQ = [];\n  }\n  discharge(pReceiver, telegram){\n    if(!pReceiver.handleMessage(telegram)){\n      console.error('Message not handled');\n    }\n  }\n  dispatchMessage(delay, senderID, receiverID, msg, extraInfo){\n    var pSender = EntityManager.getEntityFromID(senderID);\n    var pReceiver = EntityManager.getEntityFromID(receiverID);\n    if(!pReceiver){\n      console.error(`Warning! No Receiver with ID of ${receiverID} found`);\n      return;\n    }\n    var telegram = new Telegram(0, senderID, receiverID, msg, extraInfo);\n    if(delay <= 0){\n      console.log(`即时telegram触发于: ${(new Date()).getTime()}, 由${getNameOfEntity(senderID)}发给${getNameOfEntity(receiverID)}, 信息为: ${msgToStr(msg)}`);\n      this.discharge(pReceiver, telegram);\n    }else{\n      var currentTime = new Date().getTime();\n      telegram.dispatchTime = currentTime + delay;\n      this.prioritQ.push(telegram);\n      this.prioritQ.sort(sortPriorityQ);\n      console.log(`延时telegram记录于: ${new Date().getTime()}, 由${getNameOfEntity(senderID)}发给${getNameOfEntity(receiverID)}, 信息为: ${msgToStr(msg)}`);\n    }\n  }\n  dispatchDelayedMessages(){\n    var currentTime = new Date().getTime();\n    while(this.prioritQ.length && this.prioritQ[0].dispatchTime < currentTime && this.prioritQ[0].dispatchTime > 0){\n      var telegram = this.prioritQ[0];\n      var pReceiver = EntityManager.getEntityFromID(telegram.receiverID);\n      console.log(`队列telegram准备触发: 发给${getNameOfEntity(pReceiver.id())}. 消息为: ${msgToStr(telegram.msg)}`);\n      this.discharge(pReceiver, telegram);\n      this.prioritQ.shift();\n    }\n  }\n}\n\nexport default new MessageDispatcher();\n\n\n// WEBPACK FOOTER //\n// ./src/js/message_dispatcher.js","class EntityManager{\n  constructor(){\n    this.m_EntityMap = {};\n  }\n  registerEntity(newEntity){\n    this.m_EntityMap[newEntity.id()] = newEntity;\n  }\n  getEntityFromID(id){\n    return this.m_EntityMap[id];\n  }\n  removeEntity(pEntity){\n    this.m_EntityMap[pEntity.id()] = null;\n  }\n}\n\nexport default new EntityManager();\n\n\n// WEBPACK FOOTER //\n// ./src/js/entity_manager.js","export default class Telegram {\n  constructor(dispatchTime, senderID, receiverID, msg, extraInfo) {\n    this.dispatchTime = dispatchTime;\n    this.senderID = senderID;\n    this.receiverID = receiverID;\n    this.msg = msg;\n    this.extraInfo = extraInfo;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/telegram.js","const MESSAGETYPE = {\n  'MSG_HiHoneyImHome': '亲爱的我回来了',\n  'MSG_StewReady': '晚饭准备好了'\n};\n\nexport default function msgToStr(msg){\n  if (MESSAGETYPE[msg]){\n    return MESSAGETYPE[msg];\n  }else{\n    return 'Not recognized';\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/message_types.js","import BaseGameEntity from './base_game_entity';\nimport StateMachine from './state_machine';\nimport { DoHouseWork, WifesGlobalState } from \"./miner_wife_state\";\n\nexport default class MinersWife extends BaseGameEntity {\n  constructor(id) {\n    super(id);\n    this.stateMachine = new StateMachine(this);\n    this.stateMachine.setCurrentState(DoHouseWork);\n    this.stateMachine.setGlobalState(WifesGlobalState);\n    this.m_Location = \"shack\";\n    this.isCooking = false;\n  }\n  getFSM() {\n    return this.stateMachine;\n  }\n  update() {\n    this.stateMachine.update();\n  }\n  handleMessage(telegram){\n    return this.stateMachine.handleMessage(telegram);\n  }\n  cooking(){\n    return this.isCooking;\n  }\n  setCooking(isCooking){\n    this.isCooking = isCooking;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/miner_wife.js","import getNameOfEntity, { ENTITYNAME } from \"./entity_name\";\nimport MessageDispatcher from \"./message_dispatcher\";\n\nexport var WifesGlobalState = {\n  enter: function(wife){},\n  execute: function(wife){\n    if(Math.random() < 0.1){\n      wife.getFSM().changeState(VisitBathroom);\n    }\n  },\n  exit: function(wife){},\n  onMessage: function(wife, telegram){\n    switch(telegram.msg){\n      case 'MSG_HiHoneyImHome':\n        console.log(`${getNameOfEntity(wife.id())}于${new Date().getTime()}收到telegram`);\n        console.log(`${getNameOfEntity(wife.id())}: 亲爱的你回来喇，我下面给你吃哈`);\n        wife.getFSM().changeState(CookStew);\n        return true;\n    }\n    return false;\n  }\n};\n\nexport var DoHouseWork = {\n  enter: function(wife){},\n  execute: function(wife){\n    switch (Math.floor(Math.random() * 3)) {\n      case 0:\n        console.log(`${getNameOfEntity(wife.id())}: 擦地板`);\n        break;\n      case 1:\n        console.log(`${getNameOfEntity(wife.id())}: 洗盘子`);\n        break;\n      case 2:\n        console.log(`${getNameOfEntity(wife.id())}: 整理被子`);\n        break;\n    }\n  },\n  exit: function(wife){},\n  onMessage: function(wife, telegram){\n    return false;\n  }\n};\n\nexport var VisitBathroom = {\n  enter: function(wife){\n    console.log(`${getNameOfEntity(wife.id())}: 跑进洗手间，需要释放一下`);\n  },\n  execute: function(wife){\n    console.log(`${getNameOfEntity(wife.id())}: 啊～～舒服`);\n    wife.getFSM().revertToPreviousState();\n  },\n  exit: function(wife){\n    console.log(`${getNameOfEntity(wife.id())}: 走出洗手间`);\n  },\n  onMessage: function(wife, telegram){\n    return false;\n  }\n};\n\nexport var CookStew = {\n  enter: function(wife){\n    if(!wife.cooking()){\n      console.log(`${getNameOfEntity(wife.id())}: 开锅下面`);\n      MessageDispatcher.dispatchMessage(1500, wife.id(), wife.id(), 'MSG_StewReady');\n      wife.setCooking(true);\n    }\n  },\n  execute: function(wife){\n    console.log(`${getNameOfEntity(wife.id())}: 忙着下面`);\n  },\n  exit: function(wife){\n    console.log(`${getNameOfEntity(wife.id())}: 上桌喇`);\n  },\n  onMessage: function(wife, telegram){\n    switch(telegram.msg){\n      case 'MSG_StewReady':\n        console.log(`${getNameOfEntity(wife.id())}于${new Date().getTime()}收到telegram`);\n        console.log(`${getNameOfEntity(wife.id())}: 面好喇`);\n        MessageDispatcher.dispatchMessage(0, wife.id(), ENTITYNAME.ent_Miner_Bob, \"MSG_StewReady\");\n        wife.setCooking(false);\n        wife.getFSM().changeState(DoHouseWork);\n        return true;\n    }\n    return false;\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/miner_wife_state.js"],"sourceRoot":""}